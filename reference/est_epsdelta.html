<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>(epsilon, delta)-differential privacy parameters lower bounding empirical trade-off points — est_epsdelta • fdp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="(epsilon, delta)-differential privacy parameters lower bounding empirical trade-off points — est_epsdelta"><meta name="description" content="Estimates the \((\varepsilon, \delta)\)-differential privacy parameters that lower bound a given set of empirical trade-off points.
This function uses numerical optimisation to identify the tightest \((\varepsilon, \delta)\)-DP guarantee consistent with observed Type-I/Type-II error trade-offs, holding either \(\varepsilon\) or \(\delta\) fixed whilst optimising over the other parameter.
Note: due to the numerical optimisation involved, this is only an approximation."><meta property="og:description" content="Estimates the \((\varepsilon, \delta)\)-differential privacy parameters that lower bound a given set of empirical trade-off points.
This function uses numerical optimisation to identify the tightest \((\varepsilon, \delta)\)-DP guarantee consistent with observed Type-I/Type-II error trade-offs, holding either \(\varepsilon\) or \(\delta\) fixed whilst optimising over the other parameter.
Note: due to the numerical optimisation involved, this is only an approximation."><meta property="og:image" content="https://fdp.louisaslett.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fdp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/louisaslett/fdp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>(epsilon, delta)-differential privacy parameters lower bounding empirical trade-off points</h1>
      <small class="dont-index">Source: <a href="https://github.com/louisaslett/fdp/blob/master/R/est_epsdelta.R" class="external-link"><code>R/est_epsdelta.R</code></a></small>
      <div class="d-none name"><code>est_epsdelta.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimates the \((\varepsilon, \delta)\)-differential privacy parameters that lower bound a given set of empirical trade-off points.
This function uses numerical optimisation to identify the tightest \((\varepsilon, \delta)\)-DP guarantee consistent with observed Type-I/Type-II error trade-offs, holding either \(\varepsilon\) or \(\delta\) fixed whilst optimising over the other parameter.
<strong>Note:</strong> due to the numerical optimisation involved, this is only an approximation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">est_epsdelta</span><span class="op">(</span><span class="va">x</span>, epsilon <span class="op">=</span> <span class="cn">NULL</span>, delta <span class="op">=</span> <span class="cn">NULL</span>, dp <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>One or more f-DP trade-off specifications to be lower bounded. Accepts the same flexible input types as <code><a href="fdp.html">fdp()</a></code>:</p><ul><li><p>A function (user-defined or built-in, e.g., <code><a href="gdp.html">gdp()</a></code>) that when called with a numeric vector <code>alpha</code> returns a data frame with columns <code>alpha</code> and <code>beta</code>;</p></li>
<li><p>A data frame with columns <code>alpha</code> and <code>beta</code> containing empirical trade-off points;</p></li>
<li><p>A numeric vector of length 101 (interpreted as <code>beta</code> values on the canonical grid <code>alpha = seq(0, 1, by = 0.01)</code>).</p></li>
</ul><p>The function extracts all Type-I/Type-II error coordinates and finds the minimal \((\varepsilon, \delta)\)-DP parameters lower bounding them.</p></dd>


<dt id="arg-epsilon">epsilon<a class="anchor" aria-label="anchor" href="#arg-epsilon"></a></dt>
<dd><p>Optional numeric scalar specifying a fixed value of \(\varepsilon \ge 0\).
If supplied, the function searches for the minimal \(\delta \in [0,1]\) such that the \((\varepsilon, \delta)\)-DP trade-off lower bounds <code>x</code>.
Exactly one of <code>epsilon</code> or <code>delta</code> must be specified.
Default is <code>NULL</code>.</p></dd>


<dt id="arg-delta">delta<a class="anchor" aria-label="anchor" href="#arg-delta"></a></dt>
<dd><p>Optional numeric scalar specifying a fixed value of \(\delta \in [0, 1]\).
If supplied, the function searches for the minimal \(\varepsilon \ge 0\) such that the \((\varepsilon, \delta)\)-DP trade-off lower bounds <code>x</code>.
Exactly one of <code>epsilon</code> or <code>delta</code> must be specified.
Default is <code>NULL</code>.</p></dd>


<dt id="arg-dp">dp<a class="anchor" aria-label="anchor" href="#arg-dp"></a></dt>
<dd><p>Integer scalar specifying the number of decimal places of precision for the result (with careful rounding employed to ensure the bound holds).
Must be a non-negative integer.
Default is <code>2L</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A \((\varepsilon, \delta)\)-DP trade-off function object (see <code><a href="epsdelta.html">epsdelta()</a></code>) of class <code>c("fdp_epsdelta_tradeoff", "function")</code>.
This represents the tightest \((\varepsilon, \delta)\)-DP trade-off function that lower bounds the input <code>x</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function numerically solves an inverse problem in the f-differential privacy framework: given empirical trade-off points \(\{(\alpha_i, \beta_i)\}_{i=1}^n\) characterising the distinguishability between output distributions of a randomised mechanism on neighbouring datasets, find the minimal classical \((\varepsilon, \delta)\)-DP parameters such that the \((\varepsilon, \delta)\)-DP trade-off function lower bounds all observed points.</p>
<p><strong>Warning:</strong> since this is a numerical optimisation on a finite set of trade-off points, there is no mathematical guarantee of correctness.
As such, the \((\varepsilon, \delta)\) found ought best to be viewed as an approximate lower bound on the true values, since there could be intermediate trade-off points that are not supplied which cause the true values to be larger.
For example, consider:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">est_epsdelta</span>(<span class="fu">gdp</span>(<span class="fl">0.5</span>)(), <span class="at">delta =</span> <span class="dv">0</span>)</span></code></pre><p></p></div>
<p>This code will return \(\varepsilon=1.45\), yet Corollary 1, p.16, in Dong et al. (2022) means the exact answer here is \((\varepsilon = 1.45, \delta = 0.000544\dots)\) and that indeed there does not in general exist any finite \(\varepsilon\) solution for \(\delta = 0\).</p>
<p><strong>Note:</strong> for lower bounding \(\mu\)-Gaussian Differential Privacy one should use <code><a href="gdp_to_epsdelta.html">gdp_to_epsdelta()</a></code> instead, which employs exact theoretical results from the literature!</p>
<p>This function may be useful for post-hoc privacy auditing, privacy budget allocation, or mechanism comparison.</p><div class="section">
<h3 id="mathematical-formulation">Mathematical formulation<a class="anchor" aria-label="anchor" href="#mathematical-formulation"></a></h3>


<p>The \((\varepsilon, \delta)\)-DP trade-off function \(f_{\varepsilon,\delta} \colon [0,1] \to [0,1]\) is piecewise linear (see <code><a href="epsdelta.html">epsdelta()</a></code>).
This function seeks parameters \((\varepsilon, \delta)\) such that
$$f_{\varepsilon,\delta}(\alpha_i) \le \beta_i \quad \text{for all } i = 1, \ldots, n$$
whilst minimising either \(\varepsilon\) (if <code>delta</code> is fixed) or \(\delta\) (if <code>epsilon</code> is fixed).</p>
<p>Exactly one of <code>epsilon</code> or <code>delta</code> must be specified by the user; the function then searches for the minimal value of the unspecified parameter.
The optimisation first verifies whether any solution exists within reasonable bounds (\(\varepsilon &lt; 30\) or \(\delta &lt; 1\)), then constructs an objective measuring the signed vertical distance between the empirical points and the candidate \((\varepsilon, \delta)\)-DP curve.
A numerical root finder then seeks the parameter value where this crosses zero, with the solution rounded up to the specified decimal precision (<code>dp</code>).
There are then checks that the rounded bound holds numerically, with incremental adjustment if necessary to guarantee \(f_{\varepsilon,\delta}(\alpha_i) \le \beta_i\) for all \(i\) within machine precision.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Dong, J., Roth, A. and Su, W.J. (2022). “Gaussian Differential Privacy”. <em>Journal of the Royal Statistical Society Series B</em>, <strong>84</strong>(1), 3–37. <a href="https://doi.org/10.1111/rssb.12454" class="external-link">doi:10.1111/rssb.12454</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="epsdelta.html">epsdelta()</a></code> for constructing \((\varepsilon, \delta)\)-DP trade-off functions with known parameters,
<code><a href="est_gdp.html">est_gdp()</a></code> for the analogous estimation problem in the Gaussian DP framework,
<code><a href="fdp.html">fdp()</a></code> for plotting and comparing trade-off functions.</p>
<p>For lower bounding \(\mu\)-Gaussian Differential Privacy, see <code><a href="gdp_to_epsdelta.html">gdp_to_epsdelta()</a></code> which uses exact theoretical results from the literature.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Estimate epsilon given fixed delta for empirical trade-off points</span></span></span>
<span class="r-in"><span><span class="co"># Note: unrealistically small set of points, in practice this would be a</span></span></span>
<span class="r-in"><span><span class="co">#       collection of potentially thousands of points representing multiple</span></span></span>
<span class="r-in"><span><span class="co">#       trade-off functions, the collection of which should be lower bounded.</span></span></span>
<span class="r-in"><span><span class="va">empirical</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.00</span>, <span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">1.00</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  beta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.00</span>, <span class="fl">0.92</span>, <span class="fl">0.85</span>, <span class="fl">0.70</span>, <span class="fl">0.45</span>, <span class="fl">0.00</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">est_epsdelta</span><span class="op">(</span><span class="va">empirical</span>, delta <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span>  <span class="co"># Print the estimated parameters</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (ε, δ)-Differential Privacy Trade-off Function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ε = 0.34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     δ = 0.01</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimate delta given fixed epsilon</span></span></span>
<span class="r-in"><span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu">est_epsdelta</span><span class="op">(</span><span class="va">empirical</span>, epsilon <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (ε, δ)-Differential Privacy Trade-off Function</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ε = 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     δ = 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Visualise the fit</span></span></span>
<span class="r-in"><span><span class="fu"><a href="fdp.html">fdp</a></span><span class="op">(</span><span class="va">empirical</span>, <span class="va">result</span>, .legend <span class="op">=</span> <span class="st">"Trade-off"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="est_epsdelta-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find epsilon bounding a Gaussian DP mechanism with delta = 0.1 and compare</span></span></span>
<span class="r-in"><span><span class="co"># with the exactly computed values</span></span></span>
<span class="r-in"><span><span class="va">gdp_mechanism</span> <span class="op">&lt;-</span> <span class="fu"><a href="gdp.html">gdp</a></span><span class="op">(</span><span class="fl">1.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">approx_dp</span> <span class="op">&lt;-</span> <span class="fu">est_epsdelta</span><span class="op">(</span><span class="va">gdp_mechanism</span>, delta <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dp</span> <span class="op">&lt;-</span> <span class="fu"><a href="gdp_to_epsdelta.html">gdp_to_epsdelta</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="va">approx_dp</span><span class="op">)</span><span class="op">$</span><span class="va">epsilon</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="fdp.html">fdp</a></span><span class="op">(</span><span class="va">gdp_mechanism</span>, <span class="va">approx_dp</span>, <span class="va">dp</span>,</span></span>
<span class="r-in"><span>    .legend <span class="op">=</span> <span class="st">"Mechanism"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="est_epsdelta-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare precision levels</span></span></span>
<span class="r-in"><span><span class="va">result_2dp</span> <span class="op">&lt;-</span> <span class="fu">est_epsdelta</span><span class="op">(</span><span class="va">empirical</span>, delta <span class="op">=</span> <span class="fl">0.01</span>, dp <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result_4dp</span> <span class="op">&lt;-</span> <span class="fu">est_epsdelta</span><span class="op">(</span><span class="va">empirical</span>, delta <span class="op">=</span> <span class="fl">0.01</span>, dp <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="fdp.html">fdp</a></span><span class="op">(</span><span class="va">empirical</span>, <span class="va">result_2dp</span>, <span class="va">result_4dp</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="est_epsdelta-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Louis Aslett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

